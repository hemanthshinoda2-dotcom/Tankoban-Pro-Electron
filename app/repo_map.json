{
  "generatedAt": "2026-01-05T15:03:41.901Z",
  "node": "v22.16.0",
  "entries": [
    {
      "path": "main.js",
      "purpose": "Electron main process (window + IPC + persistence).",
      "danger": "medium",
      "functions": [
        "bookIdForPath",
        "bufToArrayBuffer",
        "buildLibraryIndex",
        "cbrCloseInternal",
        "cbrEvictIfNeeded",
        "cbrOpenInternal",
        "cbrReadEntryInternal",
        "cbzCloseInternal",
        "cbzOpenInternal",
        "cbzReadEntryInternal",
        "computeAutoSeries",
        "computeEffectiveFromConfig",
        "createWindow",
        "dataPath",
        "emitLibraryUpdated",
        "enqueueOpenPaths",
        "ensureLibraryIndexLoaded",
        "extractComicPathsFromArgv",
        "findEOCDInTail",
        "flushPendingOpenPaths",
        "getPrimaryWindow",
        "getProgressMem",
        "getSeriesSettingsMem",
        "inflateRawAsync",
        "isComicArchivePath",
        "listCbzFilesRecursive",
        "listImmediateSubdirs",
        "makeLibraryStateSnapshot",
        "normalizeOpenArg",
        "pageThumbPath",
        "pruneProgressByRemovedBookIds",
        "readComicEntryBytes",
        "readJSONSafe",
        "readLibraryConfig",
        "seriesIdForFolder",
        "startLibraryScan",
        "statSafe",
        "uniq",
        "winFromEvt",
        "writeJSONDebounced",
        "writeJSONSafe",
        "writeLibraryConfig"
      ],
      "classes": [],
      "arrowFns": [
        "finish"
      ],
      "notes": "Avoid behavior changes unless needed; IPC contracts must stay stable."
    },
    {
      "path": "preload.js",
      "purpose": "Secure IPC bridge (exposes electronAPI).",
      "danger": "high",
      "functions": [],
      "classes": [],
      "arrowFns": [
        "handler"
      ],
      "notes": "Keep minimal; do not expand attack surface."
    },
    {
      "path": "src/renderer.js",
      "purpose": "Core app logic: state, UI, rendering, playback loop.",
      "danger": "high",
      "functions": [
        "_closeBmp",
        "_parseGifDims",
        "_parseImageDimsFromBytes",
        "_parseJpegDims",
        "_parsePngDims",
        "_parseWebpDims",
        "activateGlobalSearchSelection",
        "addGroup",
        "adjustPauseHold",
        "adjustScrollSpeed",
        "adjustSpreadHold",
        "applyImageFxToStage",
        "applyImgFxPreset",
        "applyPortraitWidthPct",
        "applyScaleQualityToCtx",
        "applyScrollMode",
        "applySpeedPreset",
        "applySpreadOverride",
        "applySpreadsMode",
        "attachThumb",
        "autoFlipTimerTick",
        "autoScrollPresetScaleFactor",
        "baselinePxPerSecForHud",
        "beginManualScrollerDrag",
        "blocksVerticalScroll",
        "bookMap",
        "buildGlobalSearch",
        "buildLibraryDerivedCaches",
        "buildMegaAutoFlipSubmenu",
        "buildMegaBookmarksSubmenu",
        "buildMegaProgressSubmenu",
        "buildMegaScrollSubmenu",
        "buildMegaShadowSubmenu",
        "buildMegaSpeedSubmenu",
        "buildMegaSpreadsSubmenu",
        "buildMegaToolsBookmarksSubmenu",
        "buildMegaToolsModesSubmenu",
        "buildMegaToolsMoreExportSubmenu",
        "buildMegaToolsMoreFileSubmenu",
        "buildMegaToolsMoreHelpSubmenu",
        "buildMegaToolsMoreSubmenu",
        "buildMegaToolsMoreWindowSubmenu",
        "buildMegaToolsNavigateSubmenu",
        "buildMegaToolsPerformanceSubmenu",
        "buildMegaToolsSubmenu",
        "buildMegaToolsViewLoupeSubmenu",
        "buildMegaToolsViewSubmenu",
        "buildMegaWidthSubmenu",
        "cancelWarmup",
        "clampInt",
        "clampMegaFloaterOnce",
        "clampMenuToScreen",
        "clampSpeedLevel",
        "clampTwoPageScrollRowGapPx",
        "clearCachedBmp",
        "clearPageCache",
        "clearResume",
        "clearResumeAndRestart",
        "clearSeriesSettings",
        "closeCurrentCbzSession",
        "closeCurrentComicSession",
        "closeGotoOverlay",
        "closeHiddenSeriesOverlay",
        "closeImageFitMenu",
        "closeImgFxOverlay",
        "closeLibrarySettingsOverlay",
        "closeLoupeZoomOverlay",
        "closeMegaSettings",
        "closeModeMenu",
        "closeOtherOverlays",
        "closeVolNav",
        "commitGotoOverlay",
        "computeMaxPageIndexSeenNow",
        "computePageCacheBytes",
        "computePageInView",
        "confirmClearIgnoreList",
        "confirmRemoveRootFolder",
        "confirmRemoveSeriesFromLibrary",
        "decodePageAtIndex",
        "drawActiveFrame"
      ],
      "classes": [],
      "arrowFns": [
        "$",
        "addKeep",
        "applySelectionStyles",
        "baseName",
        "cancel",
        "clamp",
        "clamp01",
        "clampPx",
        "clickActive",
        "close",
        "cmp",
        "commit",
        "drawRowAligned",
        "enqueueExternalOpen",
        "finish",
        "fmtBytes",
        "fmtDate",
        "focusAt",
        "getBmpSync",
        "getCurPx",
        "getLastRead",
        "getNum",
        "hasComicExt",
        "hudHoverEnter",
        "hudHoverLeave",
        "isStale",
        "knownNormalsArr",
        "knownSpreadsArr",
        "matchesSearch",
        "mkBtn",
        "mkNav",
        "move",
        "norm",
        "normalizeExternalPaths",
        "onPointerDown",
        "onPointerMove",
        "onPointerUp",
        "open",
        "positionCard",
        "pump",
        "pushIdx",
        "pushRow",
        "pxFromT",
        "requestDecode",
        "requestTwoPageDecode",
        "runNext",
        "scaleGlyph",
        "scaleRowLabel",
        "setActive",
        "setPx",
        "tFromPx",
        "u16",
        "u32",
        "up",
        "updateUiPx",
        "valueFromPointer",
        "wrap"
      ],
      "notes": "Single biggest danger zone; use edit-zone markers."
    },
    {
      "path": "src/index.html",
      "purpose": "UI markup for library/player/overlays.",
      "danger": "low",
      "functions": [],
      "classes": [],
      "arrowFns": [],
      "notes": "Overlays must not affect viewport sizing."
    },
    {
      "path": "src/styles.css",
      "purpose": "App styling.",
      "danger": "low",
      "functions": [],
      "classes": [],
      "arrowFns": [],
      "notes": "Keep overlays position-fixed/absolute so viewport math stays stable."
    },
    {
      "path": "tools/doctor.js",
      "purpose": "Sanity checks for repo health and reproducibility.",
      "danger": "low",
      "functions": [
        "exists",
        "info",
        "isFloating",
        "main",
        "ok",
        "readJSON",
        "warn"
      ],
      "classes": [],
      "arrowFns": [],
      "notes": "Development-only."
    },
    {
      "path": "tools/repo_map.js",
      "purpose": "Generates repo_map.json.",
      "danger": "low",
      "functions": [
        "buildEntry",
        "extractSymbols",
        "foo",
        "isTextFile",
        "main",
        "walk"
      ],
      "classes": [
        "Foo"
      ],
      "arrowFns": [
        "foo"
      ],
      "notes": "Development-only."
    },
    {
      "path": "BUILD_HISTORY.md",
      "purpose": "Project file.",
      "danger": "low",
      "functions": [],
      "classes": [],
      "arrowFns": [],
      "notes": ""
    },
    {
      "path": "CHANGELOG.md",
      "purpose": "Project file.",
      "danger": "low",
      "functions": [],
      "classes": [],
      "arrowFns": [],
      "notes": ""
    },
    {
      "path": "CONTRIBUTING_AI.md",
      "purpose": "Project file.",
      "danger": "low",
      "functions": [],
      "classes": [],
      "arrowFns": [],
      "notes": ""
    },
    {
      "path": "INSTRUCTIONS.md",
      "purpose": "Project file.",
      "danger": "low",
      "functions": [],
      "classes": [],
      "arrowFns": [],
      "notes": ""
    },
    {
      "path": "PROJECT_MAP.md",
      "purpose": "Project file.",
      "danger": "low",
      "functions": [],
      "classes": [],
      "arrowFns": [],
      "notes": ""
    },
    {
      "path": "README.md",
      "purpose": "Project file.",
      "danger": "low",
      "functions": [],
      "classes": [],
      "arrowFns": [],
      "notes": ""
    },
    {
      "path": "SMOKE_TEST.md",
      "purpose": "Project file.",
      "danger": "low",
      "functions": [],
      "classes": [],
      "arrowFns": [],
      "notes": ""
    },
    {
      "path": "build_portable_folder.bat",
      "purpose": "Project file.",
      "danger": "low",
      "functions": [],
      "classes": [],
      "arrowFns": [],
      "notes": ""
    },
    {
      "path": "build_windows_exe.bat",
      "purpose": "Project file.",
      "danger": "low",
      "functions": [],
      "classes": [],
      "arrowFns": [],
      "notes": ""
    },
    {
      "path": "docs/archive/LEGACY_AI_NOTES.md",
      "purpose": "Project file.",
      "danger": "low",
      "functions": [],
      "classes": [],
      "arrowFns": [],
      "notes": ""
    },
    {
      "path": "docs/archive/LEGACY_CONTRIBUTING_AI.md",
      "purpose": "Project file.",
      "danger": "low",
      "functions": [],
      "classes": [],
      "arrowFns": [],
      "notes": ""
    },
    {
      "path": "docs/archive/LEGACY_PORT_SUMMARY.md",
      "purpose": "Project file.",
      "danger": "low",
      "functions": [],
      "classes": [],
      "arrowFns": [],
      "notes": ""
    },
    {
      "path": "docs/archive/LEGACY_PROJECT_MAP.md",
      "purpose": "Project file.",
      "danger": "low",
      "functions": [],
      "classes": [],
      "arrowFns": [],
      "notes": ""
    },
    {
      "path": "docs/archive/LEGACY_README.txt",
      "purpose": "Project file.",
      "danger": "low",
      "functions": [],
      "classes": [],
      "arrowFns": [],
      "notes": ""
    },
    {
      "path": "install_and_run.bat",
      "purpose": "Project file.",
      "danger": "low",
      "functions": [],
      "classes": [],
      "arrowFns": [],
      "notes": ""
    },
    {
      "path": "library_scan_worker.js",
      "purpose": "Project file.",
      "danger": "low",
      "functions": [
        "bookIdForPath",
        "buildLibraryIndex",
        "listCbzFilesRecursive",
        "makeIgnoreConfig",
        "normLower",
        "seriesIdForFolder",
        "shouldIgnorePath",
        "statSafe"
      ],
      "classes": [],
      "arrowFns": [],
      "notes": ""
    },
    {
      "path": "package.json",
      "purpose": "Project file.",
      "danger": "low",
      "functions": [],
      "classes": [],
      "arrowFns": [],
      "notes": ""
    }
  ]
}